title: Order
type: object
description: Schema definition for an Order prior to being picked up by a driver and a Delivery being created.
properties:
  order_id:
    type: string
  customer:
    type: object
    properties:
      customer_id:
        type: string
      name:
        type: string
      phone_number:
        type: string
      email:
        type: string
  order_date:
    type: string
    format: date-time
  total_amount:
    type: integer
  currency:
    type: string
  items:
    type: array
    items:
      type: object
      properties:
        product_id:
          type: string
        product_name:
          type: string
        quantity:
          type: integer
        unit_price:
          type: integer
  payment_status:
    type: string
  payment_method:
    type: string
  billing_address:
    $ref: '#/components/schemas/EndpointDetails'
  shipping_address:
    $ref: '#/components/schemas/EndpointDetails'
  order_status:
    type: string
  notes:
    type: string
  external_store_id:
    type: string

components:
  schemas:
    Location:
      type: object
      properties:
        lat:
          type: number
        lng:
          type: number
    Dimensions:
      type: object
      properties:
        length:
          type: integer
        height:
          type: integer
        depth:
          type: integer
    VerificationDetails:
      type: object
      properties:
        signature:
          type: object
          properties:
            image_url:
              type: string
            name:
              type: string
            signer_relationship:
              type: string
        barcodes:
          type: array
          items:
            type: object
            properties:
              type:
                type: string
              value:
                type: string
              scan_result:
                type: object
                properties:
                  outcome:
                    type: string
                  timestamp:
                    type: string
                    format: date-time
        picture:
          type: object
          properties:
            image_url:
              type: string
        identification:
          type: object
          properties:
            min_age_verified:
              type: boolean
        pin_code:
          type: object
          properties:
            entered:
              type: string
        completion_location:
          $ref: '#/components/schemas/Location'
    EndpointDetails:
      type: object
      properties:
        name:
          type: string
        phone_number:
          type: string
        address:
          type: string
        detailed_address:
          type: object
          properties:
            street_address_1:
              type: string
            street_address_2:
              type: string
            city:
              type: string
            state:
              type: string
            zip_code:
              type: string
            country:
              type: string
        notes:
          type: string
        seller_notes:
          type: string
        courier_notes:
          type: string
        location:
          $ref: '#/components/schemas/Location'
        verification:
          $ref: '#/components/schemas/VerificationDetails'
        verification_requirements:
          $ref: '#/components/schemas/VerificationDetails'
        status:
          type: string
        status_timestamp:
          type: string
          format: date-time
        external_store_id:
          type: string
